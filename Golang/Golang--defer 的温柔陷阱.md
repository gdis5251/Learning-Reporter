# Golang--defer 的温柔陷阱

### 1. 什么是 defer

defer 是 Golang 提供的一种用于注册延迟调用的机制：让函数或语句可以在当前函数执行完毕后(正常 return 或者异常 panic)再执行。

defer 的使用场景一般是在关闭连接、释放锁、关闭文件等。

曾经在使用 C++ 撸代码时非常头疼的一点就是需要记得各种情况下的资源释放，否则就会造成内存泄漏问题。而 Golang 的 defer 机制可以让你在打开资源的下一句就使用，可以在该函数结束时调用释放资源，可谓相当优雅。

